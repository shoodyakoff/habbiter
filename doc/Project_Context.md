# Habiter — Контекст проекта

**Дата создания:** 2026-01-10
**Последнее обновление:** 2026-01-10

---

## Назначение документа

Этот документ содержит общий контекст проекта и используется как справочный материал при:
- Сборе бизнес-требований для новых фич
- Проектировании решений
- Написании технических требований

---

## 1. Название и описание продукта

**Название:** Habiter

**Описание:** Telegram Mini App для трекинга привычек с фокусом на безопасность, типизацию и бесшовную интеграцию с мессенджером. Использует "Метод Франклина" для визуализации прогресса.

**Рыночная ниша:** Productivity / Self-improvement в экосистеме Telegram.

---

## 2. Целевая аудитория

### Telegram Power Users
**Роль в экосистеме:** Основные пользователи, которые хотят управлять привычками, не покидая мессенджер.

### Self-Improvers (Любители саморазвития)
**Роль в экосистеме:** Активные пользователи, использующие детальный трекинг (вес, время, заметки) для анализа прогресса.

### Подписчики сообщества (Community Members)
**Роль в экосистеме:** Пользователи, получающие доступ к приложению через подписку на Telegram-канал (проверка подписки).

---

## 3. Решаемые задачи по каждой ЦА

### Для Telegram Power Users
**Задача 1:** Быстро отмечать привычки через нативный интерфейс внутри Telegram.
**Задача 2:** Получать напоминания и взаимодействовать с трекером в привычной среде.

### Для Self-Improvers
**Задача 1:** Создавать гибкие привычки с настройкой частоты и типов трекинга (числовые значения, заметки).
**Задача 2:** Отслеживать прогресс через стрики (серии выполнения) и историю записей.

### Для Подписчиков сообщества
**Задача 1:** Получать доступ к функционалу приложения как бонус за подписку на канал.
**Задача 2:** Бесшовная авторизация через Telegram аккаунт без дополнительных регистраций.

---

## 4. Архитектура и техническая часть

### Тип архитектуры
Клиент-серверное приложение (Telegram Mini App). Frontend на Next.js, Backend на Supabase (BaaS). Использование Edge Functions для серверной логики.

### Модель развертывания
**Frontend:** Vercel (Serverless / Edge).
**Backend:** Supabase Cloud (Managed PostgreSQL, Auth, Edge Functions).

### Интеграции
- **Telegram Bot API:** Авторизация (Web App Data), уведомления, проверка подписки.
- **Yandex Metrika:** Продуктовая аналитика.
- **Supabase Auth:** Управление сессиями и RLS.

### Технические ограничения
- Работа внутри Telegram Webview (ограничения на куки, специфичное поведение iOS/Android).
- Supabase Edge Functions имеют ограничения по времени выполнения (CPU limit).
- Валидация данных через Zod на клиенте и Edge Functions.

---

## 5. Функционал платформ

### Telegram Mini App (Web/Mobile)

**Главная (Прогресс)**
- Просмотр календаря на неделю (WeekSwitcher) с индикацией прогресса.
- Список активных привычек на выбранный день.
- Быстрая отметка выполнения привычки (Toggle).
- Просмотр деталей привычки (Заметки, история).

**Мои привычки**
- Список всех активных привычек.
- Архивирование привычек.
- Переход к редактированию привычки.
- Создание новой привычки (Floating Action Button).

**Статистика**
- Визуализация прогресса по "Методу Франклина" (недельная сетка).
- Переключение между неделями для просмотра истории.
- Справочная информация о методике трекинга.

